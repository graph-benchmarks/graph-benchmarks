kind: ConfigMap
apiVersion: v1
metadata:
  name: graphscope-bench
  namespace: default
data:
  config.yaml: |
    config:
      id: 12
      algo: bfs
      log_file: /attached/log
      nodes: 4
    postgres:
      host: postgres
      port: 5432
      db: postgres
      user: postgres
      ps: graph_benchmarks
    platform:
      host: coordinator-service-graphscope:{}
      port: 59001
    dataset:
      vertex: /attached/test-wcc-undirected.v
      edges: /attached/test-wcc-undirected.e
      name: test-wcc-undirected
      weights: false
      directed: false
---
apiVersion: v1
kind: Pod
metadata:
  name: graphscope-bench
  namespace: default
spec:
  containers:
    - name: graphscope-bench
      command: ["sh", "-c", "while { sleep 3600; } do :; done"]
      image: 192.168.121.39:30000/benches/graphscope:latest
      volumeMounts:
        - name: bench-storage
          mountPath: /attached
        - name: graphscope-bench
          mountPath: /cfg
          readOnly: true
      ports:
        - containerPort: 5000
  volumes:
    - name: bench-storage
      nfs:
        path: /bench-storage
        server: 10.43.9.185
        readOnly: false
    - name: graphscope-bench
      configMap:
        name: graphscope-bench